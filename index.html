<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
<body>
  <header>
    <h1>Vocabulary Builder</h1>
  </header>

  <main>
    <section id="button-container"></section>
    <section id="word-display"></section>
  </main>
  </body>

  <!-- scripts follow -->

  <style>
  /* Swiss Design-Inspired Aesthetic */

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Helvetica Neue', sans-serif;
  }

  body {
    background-image: url("demon_slayer.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-color: #fff;
    color: #000;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px;
    min-height: 100vh;
  }

  header h1 {
    font-size: 2.5em;
    font-weight: bold;
    letter-spacing: 2px;
    text-transform: uppercase;
    border-bottom: 3px solid black;
    padding-bottom: 10px;
    display: inline-block;
  }

  #button-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 20px;
  }

  button {
    font-size: 1em;
    width: 100%;
    max-width: 300px;
    padding: 10px 20px;
    margin: 10px auto;
    background-color: black;
    color: white;
    border: 2px solid white;
    cursor: pointer;
    transition: all 0.3s ease-in-out;
  }

  button:hover {
    background-color: #444;
  }

  #word-display {
    width: 100%;
    margin: 20px auto;
    padding: 12px;
    background: white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    border-radius: 5px;
    border: 2px solid black;
    display: block;
    transition: all 0.3s ease-in-out;
  }

  #word-display.show {
  display: block;
}


  .flashcard {
    font-size: 0.95em;
    border: 1px solid #ccc;
    margin: 10px;
    padding: 8px;
    background-color: #f9f9f9;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  .flashcard:hover {
    background-color: #f0f0f0;
  }

  .flashcard div:first-child {
    font-size: 1.05em;
    font-weight: bold;
  }

  th,
  td {
    font-size: 0.9em;
    padding: 8px;
  }

  table {
    width: 80%;
    margin: 20px auto;
    border-collapse: collapse;
  }

  .in-place-table {
  width: 100%;
  margin: 20px auto;
  padding: 15px;
  background: white;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  border: 2px solid black;
}

  /* ðŸ“± Responsive styles */
  @media (max-width: 768px) {
    body {
      padding: 20px;
    }

    header h1 {
      font-size: 1.5em;
    }

    button {
      font-size: 1em;
      width: 100%;
      max-width: 100%;
    }

   


    table {
      width: 100%;
      display: block;
      overflow-x: auto;
      white-space: nowrap;
    }

    th,
    td {
      font-size: 0.85em;
      padding: 6px;
    }
  }
</style>


  <!-- PapaParse -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

  <!-- âœ… Your JavaScript starts here -->
 <script>
document.addEventListener("DOMContentLoaded", function () {
  const wordDisplay = document.getElementById("word-display");
  const buttonContainer = document.getElementById("button-container");

  if (!wordDisplay || !buttonContainer) {
    console.error("Required DOM elements not found.");
    return;
  }

  wordDisplay.style.display = "none";

  fetch("Vocabulary_List_Final_Cleaned.csv")
    .then(response => response.text())
    .then(csvData => {
      const rawData = Papa.parse(csvData, { header: true }).data;
      const parsedData = rawData.map(row => ({
        English: row["English"]?.trim() || "",
        Japanese: row["Japanese"]?.trim() || "",
        Context: row["context"]?.trim() || ""
      })).filter(row => row.English && row.Japanese);

      console.log("CSV Loaded (cleaned):", parsedData);

      const flashcardBtn = document.createElement("button");
      flashcardBtn.innerText = "Flashcard Mode";
      buttonContainer.appendChild(flashcardBtn);

      let flashcardsActive = false;
      let activeBatchIndex = null;

      flashcardBtn.onclick = () => {
        if (flashcardsActive) {
          // â¬… Return to home
          wordDisplay.innerHTML = "";
          wordDisplay.style.display = "none";
          flashcardBtn.innerText = "Flashcard Mode";
          flashcardsActive = false;
          removeDayButtons();
        } else {
          // âž¡ Activate flashcard mode
          flashcardBtn.innerText = "Home";
          flashcardsActive = true;
          createDayButtons(parsedData);
        }
      };

      function removeExistingTable() {
  const existing = document.querySelector(".in-place-table");
  if (existing) {
    existing.remove();
  }
}

      function createDayButtons(data) {
  const batchSize = 10;
  const totalBatches = Math.floor(data.length / batchSize);

  for (let i = 0; i < totalBatches; i++) {
    const batch = data.slice(i * batchSize, (i + 1) * batchSize);
    const dayBtn = document.createElement("button");
    dayBtn.innerText = `Set ${i + 1}`;
    dayBtn.classList.add("day-button");

    dayBtn.onclick = () => {
      if (activeBatchIndex === i) {
        // Close the table
        removeExistingTable();
        activeBatchIndex = null;
      } else {
        // Close any existing table
        removeExistingTable();

        // Create and insert new table
        const newDisplay = document.createElement("div");
        newDisplay.id = "word-display";
        newDisplay.className = "in-place-table";

        const table = createTable(batch);
        newDisplay.appendChild(table);

        // Insert table directly after this button
        dayBtn.insertAdjacentElement("afterend", newDisplay);
        activeBatchIndex = i;

        // Scroll smoothly into view
        newDisplay.scrollIntoView({ behavior: "smooth" });
      }
    };

    buttonContainer.appendChild(dayBtn);
  }
}


      function createTable(wordList) {
  const table = document.createElement("table");

  const headerRow = document.createElement("tr");
  ["English", "Japanese", "Context"].forEach(header => {
    const th = document.createElement("th");
    th.innerText = header;
    headerRow.appendChild(th);
  });
  table.appendChild(headerRow);

  wordList.forEach(row => {
    const tr = document.createElement("tr");

    const tdEnglish = document.createElement("td");
    tdEnglish.innerText = row.English;
    tr.appendChild(tdEnglish);

    const tdJapanese = document.createElement("td");
    tdJapanese.innerText = row.Japanese;
    tr.appendChild(tdJapanese);

    const tdContext = document.createElement("td");
    tdContext.innerText = row.Context || "";
    tr.appendChild(tdContext);

    table.appendChild(tr);
  });

  console.log("âœ… Table is being added to DOM");
  return table;
}


    })
    .catch(error => console.error("Error loading CSV:", error));
});

console.log("âœ… Table is being added to DOM");

</script>


</body>
</html>

<!-- Commands for updating files in Github 
git status

git add .
git commit -m "Update HTML and style"

git push origin main
-->

